@using System.Collections.Generic
@using System.Linq
@using Microsoft.AspNetCore.Http
@using Microsoft.AspNetCore.Http.Authentication
@using Microsoft.AspNetCore.Identity
@inject SignInManager<ApplicationUser> SignInManager

<!DOCTYPE html>
<html>
<div id="overlayloader" class="overlayloader">
    <div class="loader"></div>
</div>  
<head>
    <link href="https://fonts.googleapis.com/css?family=Raleway|Roboto" rel="stylesheet">
    <link rel="stylesheet" href="~/css/auth.css" asp-append-version="true" />
</head>
<body>

    <div class="row login">
        <div class="col-md-12">
            <img src="~/images/ip.png" class="img-responsive center-block" style="opacity: 0.8; max-height: 350px !important; margin-bottom: 25px;"/> 
        </div>
        <div class="col-md-12 text-center">
        @{
            var loginProviders = (await SignInManager.GetExternalAuthenticationSchemesAsync()).ToList();
            <form asp-action="ExternalLogin" asp-route-returnurl="@ViewData["ReturnUrl"]" method="post" class="form-horizontal">
                <div> 
                    <p>
                        @foreach (var provider in loginProviders)
                        {
                            <button type="submit" class="btn btn-default overlaytrigger" name="provider" value="@provider.Name" title="Log in using your @provider.DisplayName account">Log in</button>
                        }
                    </p>
                </div>
            </form>
        }
        </div>
    </div>

<script src="~/js/auth.js" asp-append-version="true"></script>
</body>
</html>

